services:
  - type: web
    name: whats-it-worth
    env: node
    plan: free
    region: oregon
    buildCommand: npm install -g pnpm && pnpm install && cd web && pnpm install && cd .. && pnpm run build
    startCommand: pnpm start
    autoDeploy: true
    healthCheckPath: /health
    envVars:
      - key: NODE_VERSION
        value: 20
      # Optional: set a password to gate the analytics dashboard
      - key: ANALYTICS_PASSWORD
        sync: false
      # Optional: Buttondown API key for email subscriptions
      - key: BUTTONDOWN_API_KEY
        sync: false
